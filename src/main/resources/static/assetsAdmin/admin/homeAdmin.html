<div class="container-fluid mt-3">
	<div class="row">
		<div class="col-lg-3 col-sm-6">
			<div class="card">
				<div class="social-graph-wrapper widget-facebook">
					<h4 class="text-white py-2">Doanh thu</h4>
					<span class="s-icon"><i class="fa fa-money"></i></span> <span
						class="s-icon"><i class="fa fa-money"></i></span>
				</div>

				<div class="row">
					<div class="col-6 border-right">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 ng-repeat="item in itemsThongKeDT" class="m-1">
								<span ng-if="item.yearValue === 2023">{{item.sum|
									currency:'₫':0}} 
							</h4>
							<p class="m-0">Shop</p>
						</div>
					</div>
					<div class="col-6">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 ng-repeat="item in itemsThongKeDTTOUR" class="m-1">
								<span ng-if="item.yearValue === 2023">{{item.sum|
									currency:'₫':0}} 
							</h4>
							<p class="m-0">Tour</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-sm-6">
			<div class="card">
				<div class="social-graph-wrapper widget-linkedin">
					<h4 class="text-white py-2 ">Người đăng ký & Tổng mua hàng</h4>
					<span class="s-icon"><button type="button"
							class="btn btn-light" data-toggle="modal"
							data-target="#exampleModal4">
							<i class="fa fa-user"></i>
						</button></span> <span class="s-icon"><button type="button"
							class="btn btn-light" data-toggle="modal"
							data-target="#exampleModal5">
							<i class="fa fa-person"></i>
						</button></span>
				</div>
				<div class="row">
					<div class="col-6 border-right">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 class="m-1">{{ numberOfRegistrations }}</h4>
							<p class="m-0">Shop</p>
						</div>
					</div>
					<div class="col-6">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 class="m-1">{{ numberOfRegistrations }}</h4>
							<p class="m-0">Tour</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-sm-6">
			<div class="card">
				<div class="social-graph-wrapper widget-googleplus">
					<h4 class="text-white py-2">Đơn hàng</h4>
					<span class="s-icon"><button type="button"
							class="btn btn-light" data-toggle="modal"
							data-target="#exampleModal">
							<i class="fa fa-shopping-cart"></i>
						</button></span> <span class="s-icon"><button type="button"
							class="btn btn-light" data-toggle="modal"
							data-target="#exampleModal3">
							<i class="fa fa-suitcase"></i>
						</button></span>
				</div>
				<div class="row">
					<div class="col-6 border-right">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 class="m-1">{{ calculateTotalCount() }}</h4>
							<p class="m-0">Shop</p>
						</div>
					</div>
					<div class="col-6">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 class="m-1">{{calculateTotalCount1() }}</h4>
							<p class="m-0">Tour</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-3 col-sm-6">
			<div class="card">
				<div class="social-graph-wrapper widget-twitter">
					<h4 class="text-white py-2">Đánh giá & Phản hồi</h4>
					<span class="s-icon"><button type="button"
							class="btn btn-light" data-toggle="modal"
							data-target="#exampleModal2">
							<i class="fa fa-heart"></i>
						</button></span> <span class="s-icon"><i class="fa fa-thumbs-o-up"></i></span>
				</div>
				<div class="row">
					<div class="col-6 border-right">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 class="m-1">{{ calculateTotalCountstats()}}</h4>
							<p class="m-0">Shop</p>
						</div>
					</div>
					<div class="col-6">
						<div class="pt-3 pb-3 pl-0 pr-0 text-center">
							<h4 class="m-1">{{numberOfComments}}</h4>
							<p class="m-0">Tour</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-body">
					<div class="row">
						<div class="col-md-6 input-group icons">
							<h3 class="card">Thống kê doanh thu các tháng trong năm</h3>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-12">
							<ul style="font-weight: bold; list-style: none; padding: 0;"
								class="list-group list-group-flush" id="listItems">

							</ul>

						</div>



						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart1"></canvas>
							</div>
						</div>
						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart2"></canvas>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-body">
					<div class="row ">
						<div class="col-md-6 input-group icons">
							<h3 class="card">Thống kê doanh thu các năm</h3>
						</div>
						<div class="col-md-6 text-right"></div>
					</div>
					<div class="row">
						<div class="col-lg-6">
							<div class="w-100 mr-2">
								<h5>Shop</h5>
								<div class="progress" style="height: 6px">
									<div class="progress-bar bg-danger" style="width: 100%"></div>
								</div>
							</div>
							<ul ng-repeat="item in itemsThongKeDT"
								class="list-group list-group-flush" id="listItems">
								<li class="list-group-item text-center"><a href="#"> <span
										style="font-weight: bold;"><i style="color: green;"
											class="fas fa-calendar"></i> Năm: {{item.yearValue}} </span> <span
										style="font-weight: bold; padding: 100px">{{item.sum |
											currency:'₫':0}}</span>
								</a></li>
							</ul>
						</div>
						<div class="col-lg-6">
							<div class="ml-2 w-100">
								<h5>Tour</h5>
								<div class="progress" style="height: 6px">
									<div class="progress-bar bg-success" style="width: 100%"></div>
								</div>
							</div>
							<ul ng-repeat="item in itemsThongKeDTTOUR"
								class="list-group list-group-flush" id="listItems">
								<li class="list-group-item text-center"><a href="#"> <span
										style="font-weight: bold;"><i style="color: green;"
											class="fas fa-calendar"></i> Năm: {{item.yearValue}} </span> <span
										style="font-weight: bold; padding: 100px">{{item.sum |
											currency:'₫':0}}</span>
								</a></li>
							</ul>
						</div>
						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart3"></canvas>
							</div>
						</div>
						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart4"></canvas>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-body">
					<div class="row ">
						<div class="col-md-6 text-center ">
							<h3 class="card">Số lượng sản phẩm bán theo danh mục</h3>
						</div>
						<div class="col-md-6  text-center">
							<h3 class="card">Doanh thu cửa hàng 7 ngày trước</h3>
						</div>
					</div>
					<div class="row">

						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart9"></canvas>
							</div>
							<div class="card-footer">
								<label for="dateInput">Chọn ngày:</label> <input type="date"
									id="dateInput" name="dateInput">
							</div>
						</div>
						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart10"></canvas>
							</div>
						</div>

					</div>
				</div>

			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-body">
					<div class="row ">
						<div class="col-md-6 text-center ">
							<h3 class="card">Trạng thái đơn hàng</h3>
						</div>
						<div class="col-md-6  text-center">
							<h3 class="card">Trạng thái đơn đặt vé</h3>
						</div>
					</div>
					<div class="row">

						<div class="col-lg-5">
							<div id="chart">
								<canvas id="myChart5"></canvas>
							</div>
						</div>
						<div class="col-lg-7">
							<div id="chart">
								<canvas id="myChart6"></canvas>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-body">
					<div class="row ">
						<div class="col-md-6 text-center ">
							<h3 class="card">Top 10 sản phẩm bán chạy</h3>
						</div>
						<div class="col-md-6  text-center">
							<h3 class="card">Top 10 sản phẩm dư nhiều</h3>
						</div>
					</div>
					<div class="row">

						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart7"></canvas>
							</div>
						</div>
						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart8"></canvas>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
		<div class="row">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-body">
					<div class="row ">
						<div class="col-md-6 text-center ">
							<h3 class="card">Top 5 tour được đặt nhiều nhất</h3>
						</div>
						<div class="col-md-6  text-center">
							<h3 class="card">Thống kê số lượng vé đã đặt trong ngày nào đó</h3>
						</div>
					</div>
					<div class="row">

						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart11"></canvas>
							</div>
						</div>
						<div class="col-lg-6">
							<div id="chart">
								<canvas id="myChart8"></canvas>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Thống kê số lượng trạng thái của đơn hàng -->
<div class="modal fade" id="exampleModal" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl custom-modal">
		<div class="modal-content">

			<div class="modal-body">
				<div class="row">
					<div ng-repeat="item in itemsThongKeSTstatus" class="col-6">
						<div class="card card-widget">
							<div class="card-body gradient-5">
								<div class="media">
									<span class="card-widget__icon"><i
										class="fa fa-shopping-cart"></i></span>
									<div class="media-body p-2">
										<h2 class="card-widget__title">
											{{item.group}} : <span>{{item.count}}</span>
										</h2>

									</div>
								</div>

							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>

<!-- Thống kê số lượng trạng thái của đặt vé -->
<div class="modal fade" id="exampleModal3" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl custom-modal">
		<div class="modal-content">

			<div class="modal-body">
				<div class="row">

					<div ng-repeat="tour in itemsThongKebookingstatus" class="col-6">
						<div class="card card-widget">
							<div class="card-body gradient-5">
								<div class="media">
									<span class="card-widget__icon"><i
										class="fa fa-suitcase" aria-hidden="true"></i></span>
									<div class="media-body p-2">
										<h2 class="card-widget__title">
											{{tour.group}} : <span>{{tour.count}}</span>
										</h2>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>

<!-- Thống kê đánh giá sao -->
<div class="modal fade" id="exampleModal2" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl ">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title " id="exampleModalLabel">Chi tiết : đánh
					giá sản phẩm</h3>
				<button type="button" class="btn-close" data-bs-dismiss="modal"
					aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div style="color: black;" class="table-responsive">
					<table class="table header-border table-hover verticle-middle">
						<thead>
							<tr>
								<th scope="col">STT</th>
								<th scope="col">Đánh giá</th>
								<th scope="col">Tổng</th>
								<th scope="col">Tỉ lệ</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="stats in itemsThongKestats">
								<th>{{$index + 1}}</th>
								<td>{{stats.tinh}} <i style="color: yellow;"
									class="fa fa-star"></i></td>
								<td>{{stats.count}}</td>
								<td><span class="label gradient-4 btn-rounded">
										{{stats.count/calculateTotalCountstats()*100 |number:2}}% </span></td>
							</tr>
						</tbody>
					</table>

				</div>
			</div>
		</div>
	</div>
</div>

<!-- Thống kê tổng tiền người dùng -->
<div class="modal fade" id="exampleModal4" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl ">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title " id="exampleModalLabel">Thống kê tổng
					tiền mua hàng của người dùng</h3>
				<button type="button" class="btn-close" data-bs-dismiss="modal"
					aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div style="color: black;" class="table-responsive ">
					<button style="text-align: center;" type="button"
						class="btn mb-1 btn-success">
						Shop GreenFarm <span class="btn-icon-right"><i
							class="fa fa-shopping-cart"></i></span>
					</button>
					<table class="table header-border table-hover verticle-middle ">
						<thead>
							<tr>
								<th scope="col">STT</th>
								<th scope="col">Email</th>
								<th scope="col">Số điện thoại</th>
								<th scope="col" style="text-align: center;">Tổng tiền đã
									mua hàng</th>
							</tr>
						</thead>
						<tbody>
							<!-- Dòng đầu tiên để hiển thị Top 1 -->
							<tr ng-if="pager.itemsThongKetotaluser.length > 0"
								class="gold-bg marquee-container">
								<td colspan="4">
									<div class="marquee-content" style="font-weight: bold;">
										<i style="color: red;" class="fas fa-trophy gold-icon"></i>
										Top 1: {{pager.itemsThongKetotaluser[0].group.email}} -
										{{pager.itemsThongKetotaluser[0].sum | number:0}} đ <i
											style="color: orange;" class="fas fa-trophy gold-icon"></i>
										Top 2: {{pager.itemsThongKetotaluser[1].group.email}} -
										{{pager.itemsThongKetotaluser[1].sum | number:0}} đ
									</div>

								</td>
							</tr>

							<!-- Các dòng còn lại sử dụng ng-repeat -->
							<tr
								ng-repeat="user in pager.itemsThongKetotaluser | orderBy:'-group.sum'">
								<th>{{$index + 1}}</th>
								<td>{{user.group.email}}</td>
								<td>{{user.group.email}}</td>
								<td>{{user.group.phonenumber}}</td>
								<td style="text-align: center;"><span
									class="label gradient-4 btn-rounded"> {{user.sum |
										number:0}} đ</span></td>
							</tr>
						</tbody>
					</table>
				
					<div class="panel-footer text-right">
						<span class="col-md-6"
							style="text-align: right; font-weight: bold; color: black; font-size: 15px">{{pager.page
							+ 1}} / {{pager.count}} </span>
						<button ng-click="pager.first()" class="btn btn-success">
							<i class="fas fa-angle-double-left"></i>
						</button>
						<button ng-click="pager.prev()" class="btn btn-success">
							<i class="fas fa-angle-left"></i>
						</button>
						<button ng-click="pager.next()" class="btn btn-success">
							<i class="fas fa-angle-right"></i>
						</button>
						<button ng-click="pager.last()" class="btn btn-success">
							<i class="fas fa-angle-double-right"></i>
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- Thống kê tổng tiền người dùng đặt vé -->
<div class="modal fade" id="exampleModal5" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl ">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title " id="exampleModalLabel">Thống kê tổng
					tiền đặt vé của người dùng</h3>
				<button type="button" class="btn-close" data-bs-dismiss="modal"
					aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div style="color: black;" class="table-responsive ">
					<button style="text-align: center;" type="button"
						class="btn mb-1 btn-success">
						Tour GreenFarm <span class="btn-icon-right"><i
							class="fa fa-ship"></i></span>
					</button>
					<table class="table header-border table-hover verticle-middle">
						<thead>
							<tr>
								<th scope="col">STT</th>
								<th scope="col">Email</th>
								<th scope="col">Số điện thoại</th>
								<th scope="col" style="text-align: center;">Tổng tiền đã
									đặt vé</th>
							</tr>
						</thead>
						<tbody>
							<!-- Dòng đầu tiên để hiển thị Top 1 -->
							<tr ng-if="pager.itemsThongKeBookingtotaluser.length > 0"
								class="gold-bg marquee-container">
								<td colspan="4">
									<div class="marquee-content" style="font-weight: bold;">
										<i style="color: red;" class="fas fa-trophy gold-icon"></i>
										Top 1: {{pager.itemsThongKeBookingtotaluser[0].group.email}} - 
										{{pager.itemsThongKeBookingtotaluser[0].sum | number:0}} đ <i
											style="color: orange;" class="fas fa-trophy gold-icon"></i>
										Top 2: {{pager.itemsThongKeBookingtotaluser[1].group.email}} -
										{{pager.itemsThongKeBookingtotaluser[1].sum | number:0}} đ
									</div>

								</td>
							</tr>
							<tr ng-repeat="tour in pager.itemsThongKeBookingtotaluser">
								<th>{{$index + 1}}</th>
								<td>{{tour.group.email}}</td>
								<td>{{tour.group.phonenumber}}</td>
								<td style="text-align: center;"><span
									class="label gradient-4 btn-rounded"> {{tour.sum
										|number:0}} đ</span></td>
							</tr>
						</tbody>
					</table>
					<div class="panel-footer text-right">
						<span class="col-md-6"
							style="text-align: right; font-weight: bold; color: black; font-size: 15px">{{pager.page
							+ 1}} / {{pager.count}} </span>
						<button ng-click="pager.first()" class="btn btn-success">
							<i class="fas fa-angle-double-left"></i>
						</button>
						<button ng-click="pager.prev()" class="btn btn-success">
							<i class="fas fa-angle-left"></i>
						</button>
						<button ng-click="pager.next()" class="btn btn-success">
							<i class="fas fa-angle-right"></i>
						</button>
						<button ng-click="pager.last()" class="btn btn-success">
							<i class="fas fa-angle-double-right"></i>
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!--<script>
  // Lấy ngày hiện tại
  var today = new Date().toISOString().slice(0, 10);

  // Đặt giá trị mặc định cho input là ngày hiện tại
  document.getElementById('dateInput').value = today;
</script>-->
