<div class="container-fluid">
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-body">
					<h2 class="card">Soát Vé</h2>
					<div class="row py-3">
						<div class="col-6 border ">
							<h1>Lựa chọn máy ảnh</h1>

							Thả xuống để chọn máy ảnh | <label for="cameraSelect">Lựa
								chọn Máy ảnh:</label> <select id="cameraSelect"
								ng-click="selectCamera()">
							</select>
							<h2>{{ketquaquet}}</h2>
							<!-- <button class="bg-success" ng-click="captureAndSend()">Chụp và gửi</button> -->
							<button type="button" class="btn btn-success"
								ng-click="captureAndSend()">
								<i class="fa fa-camera"></i> Quét
							</button>

							<hr>

							<div
								style="max-width: 640px; max-height: 480px; position: relative; background-image: url('https://media.istockphoto.com/id/928427244/vi/vec-to/%C4%91i%E1%BB%87n-tho%E1%BA%A1i-th%C3%B4ng-minh-trong-tay-ng%C6%B0%E1%BB%9Di-%C4%91%C3%A0n-%C3%B4ng-qu%C3%A9t-m%C3%A3-qr-%E1%BB%A9ng-d%E1%BB%A5ng-qu%C3%A9t-m%C3%A3-v%E1%BA%A1ch-tr%C3%AAn-m%C3%A0n-h%C3%ACnh.jpg?s=170667a&w=0&k=20&c=MJUaQHJopiUk4TY--P6vr_4HkfKVzCONeWYziZSIQCU='); background-size: 50%; background-position: center; background-repeat: no-repeat;">
								<video id="camera-view" style="max-width: 100%; z-index: 2;"
									autoplay></video>
							</div>



						</div>

						<div class="col-6 bg-success">
							<div>
								<h2>Các tour diễn ra trong ngày</h2>
								<div class="table-responsive">

									<table
										class="table table-striped table-bordered zero-configuration">
										<thead ng-if="tourlist.length > 0">
											<tr>
												<th>STT</th>
												<th>Tên Tour</th>
												<th>Ngày khởi hành</th>
												<th>Thời gian</th>
												<th>Số vé</th>
												<th>Danh sách vé</th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="item in tourlist">
												<th style="width: 50px">{{$index + 1}}</th>
												<th style="width: 200px">{{item.tour.tourname}}</th>
												<td style="width: 100px; font-weight: bold;"
													ng-style="{
								    'color': item.tour.departureday === 'Chủ nhật hàng tuần' ? 'Brown' :
								             item.tour.departureday === 'Thứ bảy hàng tuần' ? 'orange' :
								             item.tour.departureday === 'Ngày 14 hàng tháng' ? 'green' :
								             item.tour.departureday === 'Ngày 15 hàng tháng' ? 'red' :
								             item.tour.departureday === 'Ngày 20 hàng tháng' ? 'Purple' : ''
									}">{{item.tour.departureday}}</td>

												<th style="width: 100px; color: blue;">{{item.tourdates
													| date:'dd/MM/yyyy'}}</th>
												<th>{{ countbk(item)}}</th>

												<td><button bg-primary type="button"
														class="btn btn-success" ng-click="edit(item)"
														data-toggle="modal" data-target="#exampleModa2">
														<i class="fa fa-eye" aria-hidden="true"></i>
													</button></td>
											</tr>
										</tbody>
									</table>
									<div ng-if="tourlist.length === 0" style="text-align: center;">
										<img style="width: 300px; padding: 15px;"
											src="/assets/images/logo.png" alt="">
										<h4 class="mt-4">
											<i class="fa fa-thumbs-down text-danger"></i> Hiện tại chưa
											có tour nào trong ngày hôm nay !
										</h4>

									</div>
								</div>
							</div>


						</div>
					</div>



				</div>
			</div>
		</div>
	</div>


	<div>
		<div style="text-align: center; background-color: white;" class="py-3"
			ng-repeat="bookings in items">
			<div class="confirmation-message">
				<h2>{{ketquakiemtra}}</h2>
				<h3>
					<i class="far fa-calendar-alt"></i>Sử dụng lúc : {{
					bookings.usedate | date:'dd/MM/yyyy HH:mm a' }}
				</h3>
			</div>
			<h3>Thông tin đặt vé của bạn</h3>
			<div class="row">
				<div class="col-md-6" style="text-align: left;">
					<div class="card" style="height: 231px">
						<div class="card-body">
							<h4 class="card-title" style="text-align: center;">Thông tin
								khách hàng</h4>
							<br>
							<p class="card-text">
								<i class="fas fa-envelope"></i> Email : {{bookings.user.email}}
								<strong th:text="${bookinguse.user.email}"></strong>
							</p>

							<p class="card-text phone">
								<i class="fas fa-phone"></i> Số điện thoại :
								{{bookings.user.phonenumber}} <strong id="phoneNumber"
									th:text="${bookinguse.user.phonenumber}"></strong>
							</p>
							<p class="card-text">
								<i class="far fa-calendar-alt"></i> Ngày tạo đơn:
								{{bookings.bookingdate}} <strong
									th:text="${bookinguse.bookingdate}"></strong>
							</p>
						</div>
					</div>
				</div>

				<div class="col-md-6" style="text-align: left;">
					<div class="card">
						<div class="card-body">
							<h4 class="card-title" style="text-align: center;">Thông tin
								đặt vé</h4>
							<p class="card-text">
								<i class="fas fa-ticket-alt"></i> Mã vé: <strong>{{bookings.bookingid}}<strong
									th:text="${bookingus.bookingid}"></strong></strong>
							</p>
							<p class="card-text">
								<i class="fas fa-user"></i> Số vé người lớn:
								{{bookings.adultticketnumber}} <strong
									th:text="${bookinguse.adultticketnumber}"></strong> <strong>
									Vé</strong>
							</p>
							<p class="card-text">
								<i class="fas fa-child"></i> Số vé người trẻ em:
								{{bookings.childticketnumber}} <strong
									th:text="${bookinguse.childticketnumber}"></strong> <strong>
									Vé</strong>
							</p>
							<p class="card-text">
								<i class="fas fa-route"></i> Tên tour: <strong
									th:text="${bookinguse.tour.Tourname}">
									{{bookings.tour.tourname}}</strong> Tổ chức ngày : <strong>{{bookings.tourDateBooking.tourdate.tourdates
									| date:'dd/MM/yyyy'}}</strong>
							</p>
							Thêm các thông tin khác tùy thuộc vào yêu cầu của bạn
						</div>

					</div>

				</div>


			</div>


		</div>
	</div>
</div>


<div class="modal fade" id="exampleModa2" tabindex="-1"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl custom-modal">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title " id="exampleModalLabel">Danh sách vé</h3>
				<button type="button" class="btn-close" data-bs-dismiss="modal"
					aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="col-lg-12">
					<div class="card info">
						<div class="card-body">
							<div class="basic-form">
								<div>
									<h2>Danh sách vé</h2>
									<div class="table-responsive">
										<table
											class="table table-striped table-bordered zero-configuration">
											<thead>
												<tr>
													<th>STT</th>
													<th>Tên Khách Hàng</th>
													<th>Email</th>
													<th>Vé người lớn</th>
													<th>Vé trẻ em</th>
													<th>Trạng thái ve</th>
													<th>Tổng tiền</th>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="booking in form.tourdatebooking">
													<th style="width: 50px">{{$index + 1}}</th>
													<td style="width: 150px">{{booking.booking.user.firstname}}</td>
													<td style="width: 150px">{{booking.booking.user.email}}</td>
													<td style="width: 150px">{{booking.booking.adultticketnumber}}</td>
													<td style="width: 150px">{{booking.booking.childticketnumber}}</td>
													<td style="width: 150px">{{booking.booking.statusbooking.name}}</td>
													<td style="width: 150px">{{formatPrice(booking.booking.totalprice)}}</td>


												</tr>
											</tbody>
										</table>

									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>

<!-- 
  <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h2 class="card">QR Code Scanner</h2>
                        <div class="row py-3">
                            <div class="col-5 border ">
                                <h1>Camera Selection</h1>
                                Dropdown để chọn camera
                                <label for="cameraSelect">Select Camera:</label>
                                <select id="cameraSelect" ng-model="selectedCamera"
                                    ng-options="camera.deviceId as camera.label for camera in cameras">
                                </select>
                                <button ng-click="captureQRCode()">Start Scanning</button>
                                <hr>
                                <div class="bg-primary" style="max-width: 640; max-height: 480">
                                    Hiển thị video từ camera được chọn
                                    <video id="camera-view" style="max-width: 100%" autoplay></video>
                                </div>
                            </div>
                            show thong tin ve
                            <div class="col-5 bg-success">
                                Hiển thị giá trị mã QR
                                <div>
                                    <p>QR Code Value: {{ qrCodeValue }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->