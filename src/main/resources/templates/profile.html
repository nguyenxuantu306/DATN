<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org"
	th:replace="~{/layout/layout::dynamic(~{::body})}">

<head>
<meta charset="UTF-8" />
<title>GreenFarm</title>
</head>

<body>
	<div class="container">
		<div class="mt-3 row">
			<div class="col-sm-8 mt-4">
				<div class="col">
					<div class="row">
						<div class="col mb-3">
							<div class="card">
								<div class="card-body">
									<div class="e-profile">
										<div class="row">
											<div class="col-12 col-sm-auto mb-3">
												<div class="mx-auto" style="width: 140px">
													<div
														class="d-flex justify-content-center align-items-center rounded"
														style="height: 140px; background-color: rgb(233, 236, 239);">
														<img style="max-height: 140px; max-width: 140px"
															alt="image" th:src="@{|/assets/images/${user.image}|}" />
													</div>
												</div>
											</div>
											<div
												class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
												<div class="text-center text-sm-left mb-2 mb-sm-0">
													<h4 class="pt-sm-2 pb-1 mb-0 text-nowrap"
														th:text="${user.firstname + ' ' + user.lastname}">
														Full Name</h4>
													<p class="mb-0" th:text="${roles}">@User</p>
													<div class="mt-2">
														<label for="fileInput" class="btn btn-primary"> <i
															class="fa fa-fw fa-camera"></i> <span
															th:text="#{profile.label.changePhoto}">Change
																Photo</span> <input type="file" id="fileInput"
															th:value="${user.lastname}" th:field="${user.lastname}"
															name="image" style="display: none" />
														</label>
													</div>
												</div>
												<div class="text-center text-sm-right">
													<span class="badge badge-secondary" th:text="${roles}">@Administrator</span>
													<div class="text-muted">
														<small th:text="${user.firstname + ' ' + user.lastname}"></small>
														<small th:text="${user.createddate}"> </small>
													</div>
												</div>
											</div>
										</div>
										<ul class="nav nav-tabs">
											<li class="nav-item"><a href class="active nav-link"
												th:text="#{profile.label.setting}">Settings</a></li>
										</ul>
										<div class="tab-content pt-3">
											<div class="tab-pane active">
												<form class="form" th:action="@{/profile}"
													th:object="${userchange}" method="post">
													<div class="row">
														<div class="col">
															<div class="row">
																<div class="col">
																	<div class="form-group">
																		<label th:text="#{profile.label.firstName}">First
																			Name</label> <input class="form-control"
																			th:field="${user.firstname}" type="text"
																			name="firstname" th:value="${user.firstname}"
																			th:placeholder="${user.firstname}" value="" />
																			<i class="text-danger" th:errors="*{firstname}"></i>
																	</div>
																</div>
																<div class="col">
																	<div class="form-group">
																		<label th:text="#{profile.label.lastName}">Last
																			Name</label> <input class="form-control" type="text"
																			name="lastname" th:placeholder="${user.lastname}"
																			th:value="${user.lastname}"
																			th:field="${user.lastname}" />
																			<i class="text-danger" th:errors="*{lastname}"></i>
																	</div>
																</div>
															</div>
															<div class="row">
																<div class="col">
																	<div class="form-group">
																		<label th:text="#{profile.label.birthday}">Birthday</label>
																		<input class="form-control" type="date"
																			name="birthday" th:placeholder="${user.birthday}"
																			th:value="${user.birthday}"
																			th:field="${user.birthday}" />
																			<i class="text-danger" th:errors="*{birthday}"></i>
																	</div>
																</div>
																<div class="col">
																	<div class="form-group">
																		<label th:text="#{label.phone}">Phone Number</label> <input
																			class="form-control" type="number" name="phonenumber"
																			th:value="${user.phonenumber}"
																			th:field="${user.phonenumber}"
																			th:placeholder="${user.phonenumber}" value="" />
																			<i class="text-danger" th:errors="*{phonenumber}"></i>
																	</div>
																</div>
															</div>
															<div class="row">
																<div class="col">
																	<div class="form-group">
																		<label th:text="#{label.email}">Email</label> <input
																			class="form-control" type="email" name="email"
																			th:placeholder="${user.email}" readonly="readonly" />
<!-- 																			<i th:errors="*{email}"></i> -->
																	</div>
																	
																</div>
															</div>
															<div class="row">
																<div class="col">
																	<div class="form-group">
																		<label th:text="#{profile.label.address}">Address</label>
																		<input class="form-control" type="text" name="address"
																			th:placeholder="${user.address}"
																			th:value="${user.address}" th:field="${user.address}" />
																			<i class="text-danger" th:errors="*{address}"></i>
																	</div>
																</div>
															</div>
															<div class="row">
																<div class="col mb-3">
																	<div class="form-group">
																		<label th:text="#{profile.label.gender}">Gender</label>
																		<div class="form-check">
																			<input class="form-check-input"
																				th:field="${user.gender}" value="1" type="radio"
																				name="gender" th:checked="${user.gender == 1}" /> <label
																				class="form-check-label" for="flexRadioDefault1"
																				th:text="#{profile.label.genderMale}"> Male
																			</label>
																		</div>
																		<div class="form-check">
																			<input class="form-check-input" type="radio"
																				name="gender" th:field="${user.gender}" value="0"
																				th:checked="${user.gender == 0}" /> <label
																				class="form-check-label" for="flexRadioDefault2"
																				th:text="#{profile.label.genderFemale}">
																				Female </label>
																		</div>
																		<i class="text-danger" th:errors="*{gender}"></i>
																	</div>
																</div>
															</div>
														</div>
													</div>

													<div class="row">
														<div class="col d-flex justify-content-end">
															<button class="btn btn-primary" type="submit"
																th:text="#{profile.label.submit}">Save Changes
															</button>
														</div>
													</div>
												</form>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-4">
				<div class="menu mx-3">
					<div sec:authorize="isAuthenticated()">
						<span sec:authentication="name"></span>
					</div>
					<div class="list-group border border-0 rounded-0 my-3">
						<a class="mb-3" href="/order/list">
							<button type="button"
								class="list-group-item list-group-item-action"
								style="border-radius: 4px">
								<i class="bi bi-card-list"></i> <span
									th:text="#{profile.label.myOrder}"></span>
							</button>
						</a> <a class="mb-3" href="/booking/list">
							<button type="button"
								class="list-group-item list-group-item-action"
								style="border-radius: 4px">
								<i class="bi bi-card-list"></i> <span
									th:text="#{profile.label.myTicket}"></span>
							</button>
						</a> <a class="mb-3" href="/profile">
							<button type="button"
								class="list-group-item list-group-item-action active"
								style="border-radius: 4px">
								<i class="bi bi-person-lines-fill"></i> <span
									th:text="#{profile.label.profile}"></span>
							</button>
						</a> <a class="mb-3" href="/changepass">
							<button type="button"
								class="list-group-item list-group-item-action active"
								style="border-radius: 4px">
								<i class="bi bi-key-fill"></i> <span>Đổi mật khẩu</span>
							</button>
						</a> <a class="mb-3" href="/forgot">
							<button type="button"
								class="list-group-item list-group-item-action active"
								style="border-radius: 4px">
								<i class="bi bi-lock-fill"></i> <span>Quên mật khẩu</span>
							</button>
						</a>



					</div>
					<a
						class="btn border border-danger my-3 text-decoration-none text-center text-white fw-bold"
						style="width: 100%; background-color: red;" href="/logoff"
						th:text="#{profile.label.logout}">Đăng xuất</a>
					<!-- <div class="card mt-3" style="background-color: #fff">
						<div class="card-header">Tổng điểm tích lũy: 180.616 điểm</div>
						<div class="card-body">
							<div class="row">
								<div class="col-sm-8">
									<small>Tích & sử dụng điểm cho khách hàng thân thiết. Sản phẩm
										của tập đoàn MWG. Tìm hiểu thêm</small>
								</div>
								<div class="col-sm-4">
									<img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/QR_Code_example.png" style="width: 50px;"  alt="Quét mã QR" />
								</div>
							</div>
							<div class="">
								<a href="#" class="btn mt-3" style="background-color: #aaaaaa">Dowload App Store</a>
							</div>
						</div>
					</div> -->
				</div>
			</div>
		</div>
	</div>
</body>

</html>