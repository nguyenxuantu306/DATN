<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="dynamic(view)">

<head>
    <meta charset="UTF-8" />
    <title>GreenFarm</title>
    <!-- Favicon -->
    <link href="assets/img/favicon.ico" rel="icon">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../assets/css/style.css" rel="stylesheet">
</head>

<body>
    <div th:fragment="navbar" class="header_area">
        <div class="pos_page">
            <div class="container">
                <div class="pos_page_inner">
                    <nav th:insert="~{/layout/_header.html::header}"></nav>
                    <main th:replace="${view}"></main>
                </div>
            </div>
        </div>

        <div th:insert="~{/layout/_footer.html::footer}"></div>
    </div>

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i
    ></a>

    <script src="../assets/js/angular.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Template Javascript -->
    <script src="../assets/js/main.js"></script>
    <script>
        (function() {
            $("#cart").on("click", function() {
                $("#mini-cart").fadeToggle("fast");
            });
        })();
    </script>

    <!-- Sử dụng jQuery UI để tạo thanh trượt -->
    <script>
        $(function() {
            $("#price-range-slider").slider({
                range: true,
                min: 0,
                max: 1000, // Điều chỉnh giới hạn tối đa theo nhu cầu của bạn
                values: [100, 500], // Giá trị mặc định ban đầu
                slide: function(event, ui) {
                    $("#minPrice").val(ui.values[0]);
                    $("#maxPrice").val(ui.values[1]);
                }
            });
            $("#minPrice").val($("#price-range-slider").slider("values", 0));
            $("#maxPrice").val($("#price-range-slider").slider("values", 1));
        });
    </script>

    <script>
        // Lấy giá trị priceRange từ URL nếu có
        const urlParams = new URLSearchParams(window.location.search);
        const priceRange = urlParams.get('priceRange');

        // Nếu priceRange có giá trị, đặt radio button tương ứng là checked
        if (priceRange) {
            document.querySelector(`input[name="priceRange"][value="${priceRange}"]`).checked = true;
        }

        // Sử dụng JavaScript để xử lý sự kiện khi form được gửi
        document.getElementById('priceRangeForm').addEventListener('submit', function(e) {
            // Do nothing, để form tiếp tục với mặc định
        });
    </script>

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript">
    </script>
    <script>
        $(document).ready(function() {
            $("#cart").on("click", function(e) {
                e.preventDefault(); // Ngăn chặn mặc định của thẻ a
                $("#mini-cart").fadeToggle("fast");
            });
        });
    </script>


</body>

</html>