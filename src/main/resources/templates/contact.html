<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org"
	th:replace="~{/layout/layout::dynamic(~{::body})}">


<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact</title>
</head>

<body>
	<div class="container">

		<div class="row">

			<div class="col-6 py-5">
				<form id="contactForm" action="/contact" th:action="@{/contact}"
					method="post" th:object="${contact}" class="needs-validation"
					novalidate>
					<h4 style="color: #339900;">THÔNG TIN LIÊN HỆ</h4>

					<div class="input-group mb-3">
						<span class="input-group-text" id="basic-addon1"><i
							class="bi bi-person-square"></i></span> <input name="fullname"
							type="text" th:field="*{fullname}" class="form-control"
							aria-describedby="basic-addon1" required>
						<div th:if="${#fields.hasErrors('fullname')}"
							th:errors="*{fullname}" class="text-danger invalid-feedback"></div>
					</div>

					<div class="input-group mb-3">
						<span class="input-group-text" id="basic-addon1"><i
							class="bi bi-envelope-at-fill"></i></span> <input type="email"
							class="form-control" name="email" th:field="*{email}"
							aria-describedby="basic-addon1" required
							pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}">
						<div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
							class="text-danger invalid-feedback"></div>
					</div>

					<div class="input-group mb-3">
						<span class="input-group-text" id="basic-addon1"><i
							class="bi bi-telephone-fill"></i></span> <input type="tel"
							class="form-control" name="phonenumber" th:field="*{phonenumber}"
							aria-describedby="basic-addon1" required pattern="^\+?[0-9\s]*$"
							title="Please enter a valid phone number with digits and an optional leading plus sign (+)">
						<div th:if="${#fields.hasErrors('phonenumber')}"
							th:errors="*{phonenumber}" class="text-danger invalid-feedback"></div>
					</div>



					<div class="input-group mb-6">
						<span class="input-group-text" id="basic-addon1"><i
							class="bi bi-pencil-square"></i></span>
						<textarea class="form-control" name="content"
							th:field="*{content}" style="height: 100px" required></textarea>
						<div th:if="${#fields.hasErrors('content')}"
							th:errors="*{content}" class="text-danger invalid-feedback"></div>
					</div>

					<br>
					<button type="submit" class="btn btn-primary">Gửi tín nhắn</button>
				</form>

				<script>
    // Add JavaScript to handle the form submission
    document.getElementById('contactForm').addEventListener('submit', function (event) {
        if (!this.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
        }
        this.classList.add('was-validated');
    });
</script>

			</div>

			<!--  -->
			<div class="col-6 py-5">
				<h4 style="color: #339900;">GREENFARM</h4>
				<div class="contact__address">
					<ul style="list-style: none;">
						<li>
							<h6>
								<i class="fa fa-map-marker"></i> Address
							</h6>
							<p>180 Đường Chợ Lớn, Phường 11, Quận 6, TP.HCM</p>
						</li>
						<li>
							<h6>
								<i class="fa fa-phone"></i> Phone
							</h6>
							<p>
								<span>028.7308 2818 - Hotline: 0903 90 90 74</span>
							</p>
						</li>
						<li>
							<h6>
								<i class="fa fa-envelope"></i> Email
							</h6>
							<p>greanfarm@gmail.vn</p>
						</li>
						<li>
							<h6>
								<i class="fa fa-globe"></i> Website
							</h6>
							<p>greanfarm.com</p>
						</li>
					</ul>

				</div>
			</div>
			<div class="col-12">
				<iframe
					src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.4230403983915!2d106.62727277578601!3d10.855393589298192!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3175290c3e61af89%3A0xc6da6b0f132ec62c!2zQ2FvIMSQ4bqzbmcgRlBUIC0gR2nhuqNuZyDEkMaw4budbmc!5e0!3m2!1sen!2s!4v1697003566977!5m2!1sen!2s"
					width="1100" height="450" style="border: 0;" allowfullscreen=""
					loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
			</div>
		</div>

	</div>

	<script>
		function confirmContact() {
			// Hàm xác nhận đặt tour
			Swal.fire({
				title: 'Xác nhận gửi?',
				icon: 'question',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Đồng ý',
				cancelButtonText: 'Hủy bỏ'
			}).then((result) => {
				if (result.isConfirmed) {
					// Bạn chỉ cần submit form khi người dùng chọn "Đồng ý"
					document.getElementById("contactForm").submit();
					
					document.getElementById("contactForm").reset();
				}
			});
		}
	</script>
</body>

</html>